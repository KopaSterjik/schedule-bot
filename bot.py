from telegram import (
    Update, InlineKeyboardButton, InlineKeyboardMarkup,
    ReplyKeyboardMarkup
)
from telegram.ext import (
    Application, CommandHandler, CallbackQueryHandler,
    ContextTypes, ConversationHandler, MessageHandler, filters
)

CHOOSE_DAY, CHOOSE_WEEK = range(2)

schedule = {
    '–ø–Ω': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–í–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1108 –ö.8', 'teacher': ' –°–µ–¥—é–∫–µ–≤–∏—á –í.–ù.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–í–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1108 –ö.8', 'teacher': ' –°–µ–¥—é–∫–µ–≤–∏—á –í.–ù.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–í–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', 'time': '17:45-19:20', 'room': '–ê—É–¥. 1108 –ö.8', 'teacher': ' –°–µ–¥—é–∫–µ–≤–∏—á –í.–ù.', 'type': '–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'},
        ],
        '–≤—Ç–æ—Ä–∞—è': [
             {'subject': '–í–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1108 –ö.8', 'teacher': ' –°–µ–¥—é–∫–µ–≤–∏—á –í.–ù.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–í–Ω–µ—à–Ω–µ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1108 –ö.8', 'teacher': ' –°–µ–¥—é–∫–µ–≤–∏—á –í.–ù.', 'type': '–õ–µ–∫—Ü–∏—è'},
        ]
    },
    '–≤—Ç': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–û—Å–Ω–æ–≤—ã —ç–∫–æ–ª–æ–≥–æ-—ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞', 'time': '15:40-17:15', 'room': '–ê—É–¥. 3–ø –ö.17', 'teacher': '–†–µ–∫—Å –ê.–ì.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–û—Å–Ω–æ–≤—ã —ç–∫–æ–ª–æ–≥–æ-—ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞', 'time': '17:45-19:20', 'room': '–ê—É–¥. 428 –ö.18', 'teacher': '–ú–∞—Ä—Ç—ã–Ω—é–∫ –°.–°.', 'type': '–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'},
        ],
        '–≤—Ç–æ—Ä–∞—è': [
            {'subject': '–û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞', 'time': '13:55-15:30', 'room': '–ê—É–¥. 381 –ö.1', 'teacher': '–ê–±–º–µ—Ç–∫–æ –û.–í.', 'type': '–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'},
            {'subject': '–û—Å–Ω–æ–≤—ã —ç–∫–æ–ª–æ–≥–æ-—ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞', 'time': '15:40-17:15', 'room': '–ê—É–¥. 3–ø –ö.17', 'teacher': '–ú–∞—Ä—Ç—ã–Ω—é–∫ –°.–°.', 'type': '–õ–µ–∫—Ü–∏—è'},
        ]
    },
    '—Å—Ä': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö –≥—Ä—É–∑–æ–≤', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–•–æ–¥–æ—Å–∫–∏–Ω –î.–ü.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö –≥—Ä—É–∑–æ–≤', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–•–æ–¥–æ—Å–∫–∏–Ω –î.–ü.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î ', 'time': '17:45-19:20', 'room': '–ê—É–¥. 802 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–ö—É—Ä—Å–æ–≤–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ'},
        ],
        '–≤—Ç–æ—Ä–∞—è': [
           {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö –≥—Ä—É–∑–æ–≤', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–•–æ–¥–æ—Å–∫–∏–Ω –î.–ü.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö –≥—Ä—É–∑–æ–≤', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–•–æ–¥–æ—Å–∫–∏–Ω –î.–ü.', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},
            {'subject': '–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫', 'time': '19.30-21.05', 'room': '–ê—É–¥. ?', 'teacher': '?', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},
        ]
    },
    '—á—Ç': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1106 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'},
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1106 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞', 'time': '17:45-19:20', 'room': '–ê—É–¥. 453 –ö.1', 'teacher': '–ê–±–º–µ—Ç–∫–æ –û.–í.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫', 'time': '19.30-21.05', 'room': '–ê—É–¥. ?', 'teacher': '?', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},
            
            

        ],
        '–≤—Ç–æ—Ä–∞—è': [
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '15:40-17:15', 'room': '–ê—É–¥. 1106 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞', 'time': '17:45-19:20', 'room': '–ê—É–¥. 453 –ö.1', 'teacher': '–ê–±–º–µ—Ç–∫–æ –û.–í.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫', 'time': '19.30-21.05', 'room': '–ê—É–¥. ?', 'teacher': '?', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},
            ]
    },
    '–ø—Ç': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ë—É—Ö–≥–∞–ª—Ç–µ—Å–∫–∏–π —É—á–µ—Ç. –ë–∏—Ä–∂–µ–≤–æ–µ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–µ –¥–µ–ª–æ', 'time': '15:40-17:15', 'room': '–ê—É–¥. 608 –ö.8', 'teacher': '–ú–æ–π—Å–∞–∫ –û.–ò.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ë—É—Ö–≥–∞–ª—Ç–µ—Å–∫–∏–π —É—á–µ—Ç. –ë–∏—Ä–∂–µ–≤–æ–µ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–µ –¥–µ–ª–æ', 'time': '17:45-19:20', 'room': '–ê—É–¥. 321 –ö.8', 'teacher': '–ú–æ–π—Å–∞–∫ –û.–ò.', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},

        ],
        '–≤—Ç–æ—Ä–∞—è': [
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '13:55-15:30', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ë—É—Ö–≥–∞–ª—Ç–µ—Å–∫–∏–π —É—á–µ—Ç. –ë–∏—Ä–∂–µ–≤–æ–µ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–µ –¥–µ–ª–æ', 'time': '15:40-17:15', 'room': '–ê—É–¥. 608 –ö.8', 'teacher': '–ú–æ–π—Å–∞–∫ –û.–ò.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤ –∏ –¢–≠–î', 'time': '17:45-19:20', 'room': '–ê—É–¥. 1103 –ö.8', 'teacher': '–ö—É—Å—Ç–µ–Ω–∫–æ –ê.–ê.', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},
        ]
    },
    '—Å–±': {
        '–ø–µ—Ä–≤–∞—è': [
            {'subject': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã', 'time': '9:55-11:30', 'room': '–ê—É–¥. 804 –ö.8', 'teacher': '–°–µ–º—á–µ–Ω–∫–æ–≤ –°.–°.', 'type': '–õ–µ–∫—Ü–∏—è'},
            {'subject': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã', 'time': '12:00-13:35', 'room': '–ê—É–¥. 804 –ö.8', 'teacher': '–°–µ–º—á–µ–Ω–∫–æ–≤ –°.–°.', 'type': '–ü—Ä–∞–∫—Ç–∏–∫–∞'},

        ],
        '–≤—Ç–æ—Ä–∞—è': [
            {'subject': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã', 'time': '9:55-11:30', 'room': '–ê—É–¥. 804 –ö.8', 'teacher': '–°–µ–º—á–µ–Ω–∫–æ–≤ –°.–°.', 'type': '–õ–µ–∫—Ü–∏—è'},
]
    },
}


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    /start -> –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–æ–ª—å—à—É—é reply-–∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å"
    (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É Telegram 'Start' ‚Äî –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—á–∞—Ç–∞—Ç—å /start)
    """
    kb = ReplyKeyboardMarkup([['–ù–∞—á–∞—Ç—å']], resize_keyboard=True, one_time_keyboard=True)
    # –æ–±—ã—á–Ω–æ /start –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫ message
    if update.message:
        await update.message.reply_text('üëã –ü—Ä–∏–≤–µ—Ç! –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å:', reply_markup=kb)
    return CHOOSE_DAY

async def start_process(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏–µ reply-–∫–Ω–æ–ø–∫–∏ '–ù–∞—á–∞—Ç—å' (–ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫ message)
    –∏–ª–∏ callback 'start_process' (–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ '–ï—â—ë —Ä–∞–∑?' –ø–æ—Å–ª–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞).
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç inline-–∫–Ω–æ–ø–∫–∏ —Å –¥–Ω—è–º–∏.
    """
    buttons = [[InlineKeyboardButton(day, callback_data=day.lower()) for day in ['–ü–ù','–í–¢','–°–†']],
               [InlineKeyboardButton(day, callback_data=day.lower()) for day in ['–ß–¢','–ü–¢','–°–ë']]]
    if update.callback_query:
        q = update.callback_query
        await q.answer()
        await q.edit_message_text('üìÖ –í—ã–±–µ—Ä–∏ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏:', reply_markup=InlineKeyboardMarkup(buttons))
    else:
        # –ø—Ä–∏—à–ª–æ –∫–∞–∫ text message "–ù–∞—á–∞—Ç—å"
        await update.message.reply_text('üìÖ –í—ã–±–µ—Ä–∏ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏:', reply_markup=InlineKeyboardMarkup(buttons))
    return CHOOSE_DAY

async def choose_day(update: Update, context: ContextTypes.DEFAULT_TYPE):
    q = update.callback_query
    await q.answer()
    context.user_data['day'] = q.data  # '–ø–Ω', '–≤—Ç', ...
    buttons = [[InlineKeyboardButton('–ü–µ—Ä–≤–∞—è', callback_data='–ø–µ—Ä–≤–∞—è'),
                InlineKeyboardButton('–í—Ç–æ—Ä–∞—è', callback_data='–≤—Ç–æ—Ä–∞—è')]]
    await q.edit_message_text('üìÖ –í—ã–±–µ—Ä–∏ —É—á–µ–±–Ω—É—é –Ω–µ–¥–µ–ª—é:', reply_markup=InlineKeyboardMarkup(buttons))
    return CHOOSE_WEEK

async def choose_week(update: Update, context: ContextTypes.DEFAULT_TYPE):
    q = update.callback_query
    await q.answer()
    day = context.user_data.get('day')
    week = q.data  # '–ø–µ—Ä–≤–∞—è' –∏–ª–∏ '–≤—Ç–æ—Ä–∞—è'
    lessons = schedule.get(day, {}).get(week, [])
    if not lessons:
        text = 'üö´ –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è.'
    else:
        blocks = []
        for l in lessons:
            block = f"üïí {l['time']}\nüìö {l['subject']} ‚Äî {l['type']}\nüè´ {l['room']}\nüë®‚Äçüè´ {l['teacher']}"
            blocks.append(block)
        text = '\n\n‚Äî‚Äî‚Äî\n\n'.join(blocks)

    # –∫–Ω–æ–ø–∫–∞ "–ï—â—ë —Ä–∞–∑?" —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ CHOOSE_DAY)
    buttons = [[InlineKeyboardButton("üîÑ –ï—â—ë —Ä–∞–∑?", callback_data="start_process")]]
    await q.edit_message_text(text, reply_markup=InlineKeyboardMarkup(buttons))
    return CHOOSE_DAY

if __name__ == "__main__":
    app = Application.builder().token("8311147492:AAFK2E8wlwOGYr4mJViyqbcMccJwsX_yJAQ").build()

    conv = ConversationHandler(
        entry_points=[CommandHandler('start', start)],
        states={
            CHOOSE_DAY: [
                # –Ω–∞–∂–∞—Ç–∏–µ reply-–∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å" –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫ message —Å —Ç–µ–∫—Å—Ç–æ–º -> –ª–æ–≤–∏–º –≤–Ω—É—Ç—Ä–∏ CHOOSE_DAY
                MessageHandler(filters.Regex('^(–ù–∞—á–∞—Ç—å|–Ω–∞—á–∞—Ç—å)$'), start_process),
                # –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–ï—â—ë —Ä–∞–∑?" (callback —Å start_process)
                CallbackQueryHandler(start_process, pattern="^start_process$"),
                # –≤—ã–±–æ—Ä –¥–Ω—è (callback)
                CallbackQueryHandler(choose_day, pattern="^(–ø–Ω|–≤—Ç|—Å—Ä|—á—Ç|–ø—Ç|—Å–±)$"),
            ],
            CHOOSE_WEEK: [
                CallbackQueryHandler(choose_week, pattern="^(–ø–µ—Ä–≤–∞—è|–≤—Ç–æ—Ä–∞—è)$"),
            ],
        },
        fallbacks=[],
        per_user=True,
        per_chat=True
    )

    app.add_handler(conv)
    app.run_polling()



